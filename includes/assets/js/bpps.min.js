/*! 
 * BP Profile Status JavaScript Library 
 * @package BP Profile Status 
 */!function(a){window.BPPS={init:function(){this.bppsCharacterLimit(),this.bppsCurrentStatusEdit(),this.bppsCurrentStatusEditCancel(),this.bppsCurrentStatusDelete(),this.bppsStatusDelete(),this.bppsStatusEdit(),this.bppsSetCurrentStatus()},bppsCharacterLimit:function(){a("#bpps_add_new_status").on("keyup",function(b){var c=140,d=a(this).val(),e=d.length,f=parseInt(c-e);0>f&&(alert(bpps_main_js.bpps_max_character_alert),f++,a(this).val(d.substring(0,c))),a(".bpps-add-new span span").html(f)})},bppsCurrentStatusEdit:function(){a("#bpps-current-status-edit").on("click",function(b){b.preventDefault();var c=a(this).parent().find("#bpps-current-status-org").val();a("#bpps_add_new_status").val(c),a("#bpps-eidt-status-org").val(c),a("#bpps_add_new_status").focus(),a("#bpps_add_new_status").trigger("keyup"),a("#bpps_add_new").addClass("bpps_hide"),a("#bpps_add_new_and_set").addClass("bpps_hide"),a("#bpps_update_status_and_set").val(bpps_main_js.bpps_update),a("#bpps_update_status_and_set").removeClass("bpps_hide"),a("#bpps_cancel").removeClass("bpps_hide")})},bppsCurrentStatusEditCancel:function(){a("#bpps_cancel").on("click",function(b){b.preventDefault(),a("#bpps_add_new_status").val(""),a("#bpps_add_new_status").focusout(),a("#bpps_add_new_status").trigger("keyup"),a("#bpps_update_status_and_set").addClass("bpps_hide"),a("#bpps_update_status_and_set").val(bpps_main_js.bpps_update_and_set_as_current),a("#bpps_update_status").addClass("bpps_hide"),a("#bpps_cancel").addClass("bpps_hide"),a("#bpps_add_new").removeClass("bpps_hide"),a("#bpps_add_new_and_set").removeClass("bpps_hide")})},bppsCurrentStatusDelete:function(){a("#bpps-current-status-delete").on("click",function(b){if(b.preventDefault(),confirm(bpps_main_js.bpps_delete_current_status_confirm)){var c={action:"bpps_delete_current_status",status:a("#bpps-current-status-org").val(),nonce:a("#bpps_delete_current_status_nonce").val()};a.ajax({url:ajaxurl,type:"post",data:c,success:function(b){"1"==b&&(alert(bpps_main_js.bpps_delete_current_status_success),a("#bpps-current-status").html(bpps_main_js.bpps_no_current_status_set))}})}})},bppsStatusDelete:function(){a(".bpps-status-delete").on("click",function(b){b.preventDefault();var c=this;if(confirm(bpps_main_js.bpps_delete_status_confirm)){var d={action:"bpps_delete_status",status:a(c).parent().siblings("td").children(".bpps_old_status_org").val(),nonce:a("#bpps_delete_status_nonce").val()};a.ajax({url:ajaxurl,type:"post",data:d,success:function(b){"1"==b&&(alert(bpps_main_js.bpps_status_delete_success),a(c).parent().parent().remove())}})}})},bppsStatusEdit:function(){a(".bpps-status-edit").on("click",function(b){b.preventDefault();var c=this,d=a(c).parent().siblings("td").children(".bpps_old_status_org").val();a("#bpps-eidt-status-org").val(d),a("#bpps_add_new_status").val(d),a(c).parent().siblings("td").children(".bpps_old_status_org").val(d),a("#bpps_add_new_status").focus(),a("#bpps_add_new_status").trigger("keyup"),a("#bpps_add_new").addClass("bpps_hide"),a("#bpps_add_new_and_set").addClass("bpps_hide"),a("#bpps_update_status").removeClass("bpps_hide"),a("#bpps_update_status_and_set").removeClass("bpps_hide"),a("#bpps_cancel").removeClass("bpps_hide")})},bppsSetCurrentStatus:function(){a(".bpps-set-status").on("click",function(b){b.preventDefault();var c=this;if(a(c).parent().siblings("td").children(".bpps_old_status_org").length>0)var d=a(c).parent().siblings("td").children(".bpps_old_status_org").val();else if(a(c).siblings(".bpps-status-org").length>0)var d=a(c).siblings(".bpps-status-org").val();else if(a(c).siblings("#bpps-current-status-org").length>0)var d=a(c).siblings("#bpps-current-status-org").val();var e={action:"bpps_set_current_status",status:d};a.ajax({url:ajaxurl,type:"post",data:e,success:function(a){"1"==a&&(alert(bpps_main_js.bpps_status_set_success),window.location.reload())}})})}},a(document).ready(function(){window.BPPS.init()})}(jQuery);